model ConversationParticipant {
  conversationId    String          @unique
  userId            String          @unique
  role              ParticipantRole
  lastReadMessageId String?         @unique
  unreadCount       Int             @default(0)
  joinedAt          DateTime        @default(now())
  leftAt            DateTime?

  // Relations
  user            User         @relation(fields: [userId], references: [id])
  conversation    Conversation @relation(fields: [conversationId], references: [id])
  lastReadMessage Message?     @relation("participantLastReadMessaage", fields: [lastReadMessageId], references: [id])

  @@id([conversationId, userId])
  @@index([userId])
  @@map("ConversationParticipant")
}
