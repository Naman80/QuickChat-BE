model ConversationParticipant {
  conversationId    String
  userId            String
  role              ParticipantRole
  lastReadMessageId String?
  unreadCount       Int             @default(0)
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt

  // Relations
  user            User         @relation(fields: [userId], references: [id])
  conversation    Conversation @relation("conversationId", fields: [conversationId], references: [id])
  lastReadMessage Message?     @relation("participantLastReadMessaage", fields: [lastReadMessageId], references: [id])

  @@id([conversationId, userId])
  @@unique([conversationId, userId])
  @@index([conversationId])
  @@index([userId])
  @@map("ConversationParticipant")
}
